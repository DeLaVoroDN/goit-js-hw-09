{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const storageKey = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\n// функція для читання даних, введених в таблиці\nfunction readFormData() {\n  const email = form.email.value.trim();\n  const message = form.message.value.trim();\n  return {\n    email,\n    message,\n  };\n}\n\n// збереження даних в локальне сховище\nform.addEventListener('input', event => {\n  const data = readFormData();\n  event.preventDefault();\n  const jsonData = JSON.stringify(data);\n  localStorage.setItem(storageKey, jsonData);\n});\n\n// при наявності даних в локальному сховищі виведення даних одразу в форму\nconst rowData = localStorage.getItem(storageKey);\nif (rowData) {\n  const isData = JSON.parse(rowData);\n  if (isData.email) {\n    form.email.value = isData.email;\n  }\n  if (isData.message) {\n    form.message.value = isData.message;\n  }\n}\n\n// якщо всі поля заповнені: очищення сховища і форми при натисканні кнопки + виведення даних в консоль\nform.addEventListener('submit', event => {\n  event.preventDefault(); // скидаємо значення за замовчуванням\n  const email = event.target.elements.email.value;\n  const message = event.target.elements.message.value;\n\n  if (email === '' || message === '') {\n    //якщо хоч одне поле не заповнене виводимо повідомлення про необхідність заповнення всіх полів\n    return alert('All form fields must be filled in');\n  }\n  if (getLocalStorageData() !== null) {\n    //перевірка якщо є дані, то виводимо в консоль\n    console.log(getLocalStorageData());\n  }\n\n  localStorage.removeItem(STORAGE_KEY); //очищаємо локальне сховище\n  form.reset(); // очищаємо дані форми\n});\n"],"names":["storageKey","form","readFormData","email","message","event","data","jsonData","rowData","isData"],"mappings":"wFAAA,MAAMA,EAAa,sBACbC,EAAO,SAAS,cAAc,gBAAgB,EAGpD,SAASC,GAAe,CACtB,MAAMC,EAAQF,EAAK,MAAM,MAAM,KAAI,EAC7BG,EAAUH,EAAK,QAAQ,MAAM,KAAI,EACvC,MAAO,CACL,MAAAE,EACA,QAAAC,CACJ,CACA,CAGAH,EAAK,iBAAiB,QAASI,GAAS,CACtC,MAAMC,EAAOJ,IACbG,EAAM,eAAc,EACpB,MAAME,EAAW,KAAK,UAAUD,CAAI,EACpC,aAAa,QAAQN,EAAYO,CAAQ,CAC3C,CAAC,EAGD,MAAMC,EAAU,aAAa,QAAQR,CAAU,EAC/C,GAAIQ,EAAS,CACX,MAAMC,EAAS,KAAK,MAAMD,CAAO,EAC7BC,EAAO,QACTR,EAAK,MAAM,MAAQQ,EAAO,OAExBA,EAAO,UACTR,EAAK,QAAQ,MAAQQ,EAAO,QAEhC,CAGAR,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMF,EAAQE,EAAM,OAAO,SAAS,MAAM,MACpCD,EAAUC,EAAM,OAAO,SAAS,QAAQ,MAE9C,GAAIF,IAAU,IAAMC,IAAY,GAE9B,OAAO,MAAM,mCAAmC,EAE9C,oBAAqB,IAAK,MAE5B,QAAQ,IAAI,oBAAmB,CAAE,EAGnC,aAAa,WAAW,WAAW,EACnCH,EAAK,MAAK,CACZ,CAAC"}